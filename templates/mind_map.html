<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>帳號管理心智圖</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/mind_map.css' %}">
    <!-- 引入 jsmind 的 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsmind@0.4.6/style/jsmind.css">
    
    <!-- dom-to-image for 截圖功能 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>

    <!-- 引入 jsmind 和其他插件 -->
    <script src="https://cdn.jsdelivr.net/npm/jsmind@0.8.5/es6/jsmind.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsmind@0.8.5/es6/jsmind.draggable-node.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsmind@0.8.5/es6/jsmind.screenshot.js"></script>


    <!-- 本地 JavaScript 文件 -->
    <script src="{% static 'js/mind_map.js' %}"></script>



    <!-- favicon -->
    <link rel="icon" href="{% static 'favicon.ico' %}">
    <link rel="icon" href="data:;base64,iVBORw0KGgo="> <!-- 空的 favicon 以消除 404 錯誤 -->
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">

</head>
<body>
    <div class="top-bar">
        <div class="user-name">使用者名稱</div>
        <div class="logout">
            <form action="{% url 'logout' %}" method="post">
                {% csrf_token %}
                <button type="button" onclick="saveAndLogout()">登出</button> 
                <!-- 修改登出按鈕並添加儲存邏輯 -->
            </form>
            <button onclick="saveMindMap()">儲存</button> <!-- 添加儲存按鈕 -->
        </div>
        <div class="search-bar">
            <input type="text" placeholder="搜尋帳號或資料...">
        </div>
    </div>

    <div id="jsmind_container"></div>

    <div class="mini-map-wrapper">
        <button class="center-button">一鍵定位至中心</button>
        <div class="mini-map-container">
            <div class="mini-map-title">[小地圖顯示區]</div>
        </div>
    </div>

    <div class="tooltip-wrapper">
        <div class="tooltip-content">
            <!-- 可以在這裡填入提示文字，或用 JavaScript 動態更新內容 -->
A 新增子節點
B 新增兄弟節點
E 編輯節點
Delete 刪除節點
空白鍵 切換節點展開/收起
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/jsmind@0.4.6/js/jsmind.js"></script>
    <script src="{% static 'js/mind_map.js' %}"></script>
</body>
</html>
